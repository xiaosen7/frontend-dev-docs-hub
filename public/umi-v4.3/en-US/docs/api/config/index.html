<!DOCTYPE html><html><head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<meta property="og:image" content="https://umijs.org/images/og-home.png">
<meta property="og:url" content="https://umijs.org/">
<meta property="og:type" content="article">
<meta property="og:site_name" content="Umi">
<meta property="og:description" content="Umi是可扩展的企业级前端应用框架。Umi 以路由为基础的，同时支持配置式路由和约定式路由，保证路由的功能完备，并以此进行功能扩展。然后配以生命周期完善的插件体系，覆盖从源码到构建产物的每个生命周期，支持各种功能扩展和业务需求。">
<meta property="twitter:image" content="https://umijs.org/images/og-home.png">
<meta property="twitter:site" content="https://umijs.org/">
<meta property="twitter:creator" content="Umi">
<meta property="twitter:card" content="summary_large_image">
<meta property="twitter:title" content="Umi">
<meta property="twitter:description" content="Umi是可扩展的企业级前端应用框架。Umi 以路由为基础的，同时支持配置式路由和约定式路由，保证路由的功能完备，并以此进行功能扩展。然后配以生命周期完善的插件体系，覆盖从源码到构建产物的每个生命周期，支持各种功能扩展和业务需求。">
<meta property="fb:app_id" content="922985738798968">
<link rel="shortcut icon" href="https://img.alicdn.com/tfs/TB1YHEpwUT1gK0jSZFhXXaAtVXa-28-27.svg">
<link rel="stylesheet" href="/umi.c9f82ed3.css">
<title data-rh="true">Configuration</title>
<meta data-rh="true" property="og:title" content="Configuration"/><meta data-rh="true" name="description" content="For the custom configurations available in umi, you can use the .umirc.ts file or config/config.ts in the project root directory. It&#x27;s noteworthy that both files have the same functionality, just residing in different directories. You have to choose one of them, with .umirc.ts having a higher priority."/><meta data-rh="true" property="og:description" content="For the custom configurations available in umi, you can use the .umirc.ts file or config/config.ts in the project root directory. It&#x27;s noteworthy that both files have the same functionality, just residing in different directories. You have to choose one of them, with .umirc.ts having a higher priority."/>
<link data-rh="true" rel="canonical" href="https://umijs.org//en-US/docs/api/config"/>
</head>
<body>
<noscript><b>Enable JavaScript to run this app.</b></noscript><div id="root"><!--$?--><template id="B:0"></template><div></div><!--/$--></div><script>window.__UMI_LOADER_DATA__ = {}</script>
<script async="" src="/umi.0bdf4102.js"></script>

</body></html><div hidden id="S:0"><!--$?--><template id="B:1"></template><div></div><!--/$--></div><script>function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("B:0","S:0")</script><div hidden id="S:1"><div class="dumi-default-doc-layout"><div class="dumi-default-header"><div class="dumi-default-header-content"><section class="dumi-default-header-left"><a class="dumi-default-logo" href="/en-US"><img src="https://gw.alipayobjects.com/zos/bmw-prod/598d14af-4f1c-497d-b579-5ac42cd4dd1f/k7bjua9c_w132_h130.png" alt="UmiJS"/>UmiJS<!-- --></a></section><section class="dumi-default-header-right"><ul class="dumi-default-navbar"><li><a href="/en-US/docs/introduce/introduce">Introduce</a></li><li><a href="/en-US/docs/guides/getting-started">Guide</a></li><li><a class="active" href="/en-US/docs/api/api">API</a></li><li><a href="/en-US/docs/max/introduce">Umi Max</a></li><li><a href="/en-US/blog/umi-4-rc">Blog</a></li></ul><div class="dumi-default-header-right-aside"><div class="dumi-default-search-bar"><svg viewBox="64 64 896 896" class="dumi-default-search-bar-svg"><path d="M909.6 854.5 649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0 0 11.6 0l43.6-43.5a8.2 8.2 0 0 0 0-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"></path></svg><input class="dumi-default-search-bar-input" placeholder="Type keywords..."/><span class="dumi-default-search-shortcut">⌘<!-- --> K<!-- --></span></div><a class="dumi-default-lang-switch" href="/docs/api/config">中文</a><span class="dumi-default-color-switch" data-dumi-tooltip="Light Mode" data-dumi-tooltip-bottom="true"><svg viewBox="0 0 16 16"><path d="M8 13a1 1 0 0 1 1 1v1a1 1 0 1 1-2 0v-1a1 1 0 0 1 1-1ZM8 3a1 1 0 0 1-1-1V1a1 1 0 1 1 2 0v1a1 1 0 0 1-1 1Zm7 4a1 1 0 1 1 0 2h-1a1 1 0 1 1 0-2h1ZM3 8a1 1 0 0 1-1 1H1a1 1 0 1 1 0-2h1a1 1 0 0 1 1 1Zm9.95 3.536.707.707a1 1 0 0 1-1.414 1.414l-.707-.707a1 1 0 0 1 1.414-1.414Zm-9.9-7.072-.707-.707a1 1 0 0 1 1.414-1.414l.707.707A1 1 0 0 1 3.05 4.464Zm9.9 0a1 1 0 0 1-1.414-1.414l.707-.707a1 1 0 0 1 1.414 1.414l-.707.707Zm-9.9 7.072a1 1 0 0 1 1.414 1.414l-.707.707a1 1 0 0 1-1.414-1.414l.707-.707ZM8 4a4 4 0 1 0 0 8 4 4 0 0 0 0-8Zm0 6.5a2.5 2.5 0 1 1 0-5 2.5 2.5 0 0 1 0 5Z"></path></svg><select><option value="light" selected="">Light Mode<!-- --></option><option value="dark">Dark Mode<!-- --></option><option value="auto">Follow System<!-- --></option></select></span><a class="dumi-default-icon" data-dumi-tooltip="GitHub" data-dumi-tooltip-bottom="true" target="_blank" href="https://github.com/umijs/umi" rel="noreferrer"><svg viewBox="64 64 896 896"><path d="M511.6 76.3C264.3 76.2 64 276.4 64 523.5 64 718.9 189.3 885 363.8 946c23.5 5.9 19.9-10.8 19.9-22.2v-77.5c-135.7 15.9-141.2-73.9-150.3-88.9C215 726 171.5 718 184.5 703c30.9-15.9 62.4 4 98.9 57.9 26.4 39.1 77.9 32.5 104 26 5.7-23.5 17.9-44.5 34.7-60.8-140.6-25.2-199.2-111-199.2-213 0-49.5 16.3-95 48.3-131.7-20.4-60.5 1.9-112.3 4.9-120 58.1-5.2 118.5 41.6 123.2 45.3 33-8.9 70.7-13.6 112.9-13.6 42.4 0 80.2 4.9 113.5 13.9 11.3-8.6 67.3-48.8 121.3-43.9 2.9 7.7 24.7 58.3 5.5 118 32.4 36.8 48.9 82.7 48.9 132.3 0 102.2-59 188.1-200 212.9a127.5 127.5 0 0 1 38.1 91v112.5c.8 9 0 17.9 15 17.9 177.1-59.7 304.6-227 304.6-424.1 0-247.2-200.4-447.3-447.5-447.3z"></path></svg></a><div class="dumi-default-lang-select" style="border-inline-start:1px solid #d0d5d8;margin-inline-start:15px;padding-inline-start:5px"><select style="padding-top:1px;padding-bottom:1px"><option value="4.3.31" selected="">4.3.31<!-- --></option><option value="3.x">3.x<!-- --></option></select><svg viewBox="64 64 896 896"><path d="M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"></path></svg></div></div></section><button type="button" class="dumi-default-header-menu-btn"><svg viewBox="64 64 896 896"><path d="M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"></path></svg></button></div></div><div class="dumi-default-doc-layout-mobile-bar"><button type="button" class="dumi-default-sidebar-btn"><svg viewBox="64 64 896 896"><path d="M120 230h496c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm0 424h496c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm784 140H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0-424H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"></path></svg>Sidebar<!-- --></button></div><main><div class="dumi-default-sidebar"><dl class="dumi-default-sidebar-group"><dd><a title="API" class="" href="/en-US/docs/api/api">API</a></dd><dd><a title="Configuration" aria-current="page" class="active" href="/en-US/docs/api/config">Configuration</a></dd><dd><a title="Runtime Configuration" class="" href="/en-US/docs/api/runtime-config">Runtime Configuration</a></dd><dd><a title="Command Line" class="" href="/en-US/docs/api/commands">Command Line</a></dd><dd><a title="Plugin API" class="" href="/en-US/docs/api/plugin-api">Plugin API</a></dd></dl></div><div class="dumi-default-content"><article><!--$?--><template id="B:2"></template><div></div><!--/$--></article><footer class="dumi-default-content-footer"><dl><dd><svg viewBox="64 64 896 896"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"></path><path d="M686.7 638.6 544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z"></path></svg>Last updated: <!-- --><time dateTime=""></time></dd></dl><nav></nav></footer><div class="dumi-default-footer">Open-source MIT Licensed | Copyright © 2017-present</div></div><div class="dumi-default-doc-layout-toc-wrapper"><h4>TABLE OF CONTENTS</h4></div></main></div></div><script>$RC("B:1","S:1")</script><div hidden id="S:2"><div class="markdown"><h1 id="configuration"><a aria-hidden="true" tabindex="-1" href="#configuration"><span class="icon icon-link"></span></a>Configuration<!-- --></h1><p>For the custom configurations available in umi, you can use the <!-- --><code>.umirc.ts</code> file or <!-- --><code>config/config.ts</code> in the project root directory. It&#x27;s noteworthy that both files have the same functionality, just residing in different directories. You have to choose one of them, with <!-- --><code>.umirc.ts</code> having a higher priority.<!-- --></p><blockquote><p>For more information about the directory structure, you can learn more <!-- --><a href="/en-US/docs/guides/directory-structure">here</a>.<!-- --></p></blockquote><p>umi&#x27;s configuration file is a regular node module, which is used when the umi <!-- --><a href="/en-US/docs/api/commands">command line</a> is executed and is not included in the browser-side build.<!-- --></p><blockquote><p>For some configurations that are required for the browser-side build, and some configurations that affect the style presentation, in umi they are collectively referred to as &quot;runtime configuration&quot;, you can see more about it in <!-- --><a href="/en-US/docs/api/runtime-config">runtime configuration</a>.<!-- --></p></blockquote><p>Here is the simplest example of an umi configuration file:</p><div class="dumi-default-source-code"><button type="button" class="dumi-default-source-code-copy"><svg viewBox="64 64 896 896"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2 263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"></path></svg></button><pre class="prism-code language-ts"><div class=""><div class=""><span class="token keyword">import</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> defineConfig </span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token keyword">from</span><span class="token plain"> </span><span class="token string">&#x27;umi&#x27;</span><span class="token punctuation">;</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">
</span></div></div><div class=""><div class=""><span class="token plain"></span><span class="token keyword">export</span><span class="token plain"> </span><span class="token keyword">default</span><span class="token plain"> </span><span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">  outputPath</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string">&#x27;dist&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div></div></pre></div><p>Wrapping configurations with <!-- --><code>defineConfig</code> is to get better spell check support when writing the configuration file. If you don&#x27;t need it, <!-- --><code>export default {}</code> works too.<!-- --></p><p>It&#x27;s important to note that when using umi, you don&#x27;t need to understand the purpose of each configuration. You can briefly browse through all the configurations that umi supports below, and then, when needed, come back to see how to enable and modify the configurations you need.</p><blockquote><p>For convenience, the following configurations are sorted alphabetically.</p></blockquote><h2 id="alias"><a aria-hidden="true" tabindex="-1" href="#alias"><span class="icon icon-link"></span></a>alias<!-- --></h2><ul><li>Type: <!-- --><code>Record&lt;string, string&gt;</code></li><li>Default value: <!-- --><code>{}</code></li></ul><p>Configure aliases, to map the source in import statements.</p><p>For example:</p><div class="dumi-default-source-code"><button type="button" class="dumi-default-source-code-copy"><svg viewBox="64 64 896 896"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2 263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"></path></svg></button><pre class="prism-code language-js"><div class=""><div class=""><span class="token punctuation">{</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">  </span><span class="token literal-property property">alias</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">    </span><span class="token literal-property property">foo</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string">&#x27;/tmp/to/foo&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain"></span><span class="token punctuation">}</span></div></div></pre></div><p>Then in the code, <!-- --><code>import &#x27;foo&#x27;</code> will actually become <!-- --><code>import &#x27;/tmp/to/foo&#x27;</code>.<!-- --></p><p>Some tips:</p><ol><li>It&#x27;s better to use absolute paths as the value of alias, especially when pointing to a dependency, remember to add <!-- --><code>require.resolve</code>, for instance,<!-- --></li></ol><div class="dumi-default-source-code"><button type="button" class="dumi-default-source-code-copy"><svg viewBox="64 64 896 896"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2 263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"></path></svg></button><pre class="prism-code language-js"><div class=""><div class=""><span class="token comment">// ❌</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain"></span><span class="token punctuation">{</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">  </span><span class="token literal-property property">alias</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">    </span><span class="token literal-property property">foo</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string">&#x27;foo&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">
</span></div></div><div class=""><div class=""><span class="token plain"></span><span class="token comment">// ✅</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain"></span><span class="token punctuation">{</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">  </span><span class="token literal-property property">alias</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">    </span><span class="token literal-property property">foo</span><span class="token operator">:</span><span class="token plain"> require</span><span class="token punctuation">.</span><span class="token method function property-access">resolve</span><span class="token punctuation">(</span><span class="token string">&#x27;foo&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain"></span><span class="token punctuation">}</span></div></div></pre></div><ol start="2"><li>If you don&#x27;t want subpaths to be mapped as well, remember to add a <!-- --><code>$</code> suffix, for example<!-- --></li></ol><div class="dumi-default-source-code"><button type="button" class="dumi-default-source-code-copy"><svg viewBox="64 64 896 896"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2 263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"></path></svg></button><pre class="prism-code language-js"><div class=""><div class=""><span class="token comment">// import &#x27;foo/bar&#x27; will be mapped to import &#x27;/tmp/to/foo/bar&#x27;</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain"></span><span class="token punctuation">{</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">  </span><span class="token literal-property property">alias</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">    </span><span class="token literal-property property">foo</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string">&#x27;/tmp/to/foo&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">
</span></div></div><div class=""><div class=""><span class="token plain"></span><span class="token comment">// import &#x27;foo/bar&#x27; will still be import &#x27;foo/bar&#x27;, and won&#x27;t be modified</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain"></span><span class="token punctuation">{</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">  </span><span class="token literal-property property">alias</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">    </span><span class="token literal-property property">foo$</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string">&#x27;/tmp/to/foo&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain"></span><span class="token punctuation">}</span></div></div></pre></div><h2 id="autoprefixer"><a aria-hidden="true" tabindex="-1" href="#autoprefixer"><span class="icon icon-link"></span></a>autoprefixer<!-- --></h2><ul><li>Type: <!-- --><code>object</code></li><li>Default value: <!-- --><code>{ flexbox: &#x27;no-2009&#x27; }</code></li></ul><p>Used for parsing CSS and adds vendor prefixes to CSS rules using values from Can I Use. It enables autoprefixing, such as automatically adding <!-- --><code>-webkit-</code> prefix.<!-- --></p><p>For more configurations, please consult <!-- --><a href="https://github.com/postcss/autoprefixer#options">autoprefixer&#x27;s options</a>.<!-- --></p><h2 id="analyze"><a aria-hidden="true" tabindex="-1" href="#analyze"><span class="icon icon-link"></span></a>analyze<!-- --></h2><ul><li>Type: <!-- --><code>object</code></li><li>Default value: <!-- --><code>{}</code></li></ul><p>Specific configuration options for the analyzer plugin when analyzing product composition through the <!-- --><a href="/en-US/docs/guides/env-variables#analyze"><code>ANALYZE</code></a> environment variable. See <!-- --><a href="https://github.com/webpack-contrib/webpack-bundle-analyzer#options-for-plugin">webpack-bundle-analyzer</a></p><p>When using Vite mode, in addition to customizing the configuration of <!-- --><a href="https://github.com/btd/rollup-plugin-visualizer">rollup-plugin-visualizer</a>, <!-- --><code>excludeAssets</code>, <!-- --><code>generateStatsFile</code>, <!-- --><code>openAnalyzer</code>, <!-- --><code>reportFilename</code>, <!-- --><code>reportTitle</code> options will automatically adapt.<!-- --></p><h2 id="base"><a aria-hidden="true" tabindex="-1" href="#base"><span class="icon icon-link"></span></a>base<!-- --></h2><ul><li>Type: <!-- --><code>string</code></li><li>Default value: <!-- --><code>/</code></li></ul><p>To deploy the umi project in a non-root directory, you can use the base configuration.</p><p>The base configuration allows you to set a routing prefix for your application. For example, with routes <!-- --><code>/</code> and <!-- --><code>/users</code>, after setting base to <!-- --><code>/foo/</code>, you can access the previous routes through <!-- --><code>/foo/</code> and <!-- --><code>/foo/users</code>.<!-- --></p><blockquote><p>Note: The base configuration must be set at build time and can&#x27;t be changed without rebuilding, because this value is inlined in the client-side package.</p></blockquote><h2 id="cachedirectorypath"><a aria-hidden="true" tabindex="-1" href="#cachedirectorypath"><span class="icon icon-link"></span></a>cacheDirectoryPath<!-- --></h2><ul><li>Type: <!-- --><code>string</code></li><li>Default value: <!-- --><code>node_modules/.cache</code></li></ul><p>By default, Umi stores some cache files generated during the build process in the <!-- --><code>node_modules/.cache</code> directory, such as logger logs, webpack cache, mfsu cache, etc. You can modify Umi&#x27;s cache file directory using the <!-- --><code>cacheDirectoryPath</code> configuration.<!-- --></p><p>Example,</p><div class="dumi-default-source-code"><button type="button" class="dumi-default-source-code-copy"><svg viewBox="64 64 896 896"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2 263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"></path></svg></button><pre class="prism-code language-js"><div class=""><div class=""><span class="token comment">// Change the cache file path to the node_modules/.cache1 folder</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain"></span><span class="token literal-property property">cacheDirectoryPath</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string">&#x27;node_modules/.cache1&#x27;</span><span class="token punctuation">,</span></div></div></pre></div><h2 id="chainwebpack"><a aria-hidden="true" tabindex="-1" href="#chainwebpack"><span class="icon icon-link"></span></a>chainWebpack<!-- --></h2><ul><li>Type: <!-- --><code>(memo, args) =&gt; void</code></li><li>Default value: <!-- --><code>null</code></li></ul><p>To extend Umi&#x27;s built-in webpack configuration, we provide a way to modify the webpack configuration in a chained programming style, based on webpack-chain. See the documentation of webpack-api for specific APIs.</p><p>As shown below:</p><div class="dumi-default-source-code"><button type="button" class="dumi-default-source-code-copy"><svg viewBox="64 64 896 896"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2 263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"></path></svg></button><pre class="prism-code language-js"><div class=""><div class=""><span class="token keyword module">export</span><span class="token plain"> </span><span class="token keyword module">default</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">  </span><span class="token function">chainWebpack</span><span class="token punctuation">(</span><span class="token parameter">memo</span><span class="token parameter punctuation">,</span><span class="token parameter"> args</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">    </span><span class="token keyword control-flow">return</span><span class="token plain"> memo</span><span class="token punctuation">;</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">  </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span></div></div></pre></div><p>This function has two parameters:</p><ul><li><code>memo</code> is the existing webpack configuration<!-- --></li><li><code>args</code> contains some additional information and auxiliary objects, currently including <!-- --><code>env</code> and <!-- --><code>webpack</code>. <!-- --><code>env</code> is the current environment, with values of <!-- --><code>development</code> or <!-- --><code>production</code>; <!-- --><code>webpack</code> is the webpack object, from which webpack&#x27;s built-in plugins can be obtained.<!-- --></li></ul><p>Usage example:</p><div class="dumi-default-source-code"><button type="button" class="dumi-default-source-code-copy"><svg viewBox="64 64 896 896"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2 263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"></path></svg></button><pre class="prism-code language-js"><div class=""><div class=""><span class="token keyword module">export</span><span class="token plain"> </span><span class="token keyword module">default</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">  </span><span class="token function">chainWebpack</span><span class="token punctuation">(</span><span class="token parameter">memo</span><span class="token parameter punctuation">,</span><span class="token parameter"> </span><span class="token parameter punctuation">{</span><span class="token parameter"> env</span><span class="token parameter punctuation">,</span><span class="token parameter"> webpack </span><span class="token parameter punctuation">}</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">    </span><span class="token comment">// Set alias</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">    memo</span><span class="token punctuation">.</span><span class="token property-access">resolve</span><span class="token punctuation">.</span><span class="token property-access">alias</span><span class="token punctuation">.</span><span class="token method function property-access">set</span><span class="token punctuation">(</span><span class="token string">&#x27;foo&#x27;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string">&#x27;/tmp/to/foo&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">
</span></div></div><div class=""><div class=""><span class="token plain">    </span><span class="token comment">// Add extra plugins</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">    memo</span><span class="token punctuation">.</span><span class="token method function property-access">plugin</span><span class="token punctuation">(</span><span class="token string">&#x27;hello&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">use</span><span class="token punctuation">(</span><span class="token maybe-class-name">Plugin</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token spread operator">...</span><span class="token plain">args</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">
</span></div></div><div class=""><div class=""><span class="token plain">    </span><span class="token comment">// Delete Umi&#x27;s built-in plugin</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">    memo</span><span class="token punctuation">.</span><span class="token property-access">plugins</span><span class="token punctuation">.</span><span class="token method function property-access">delete</span><span class="token punctuation">(</span><span class="token string">&#x27;hmr&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">  </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span></div></div></pre></div><h2 id="clicktocomponent"><a aria-hidden="true" tabindex="-1" href="#clicktocomponent"><span class="icon icon-link"></span></a>clickToComponent<!-- --></h2><ul><li>Type: <!-- --><code>{ editor?: string }</code></li><li>Default value: <!-- --><code>false</code></li></ul><blockquote><p>Currently, only React projects are supported.</p></blockquote><p>When this feature is enabled, you can jump to the source code location in the editor by <!-- --><code>Option+Click/Alt+Click</code> on the component. <!-- --><code>Option+Right-click/Alt+Right-click</code> opens the context to view the parent component.<!-- --></p><p>About parameters. The <!-- --><code>editor</code> parameter defaults to &#x27;vscode&#x27;, supporting <!-- --><code>vscode</code> &amp; <!-- --><code>vscode-insiders</code>.<!-- --></p><p>Configure the behavior of clickToComponent, for more details see <!-- --><a href="https://github.com/ericclemmons/click-to-component">click-to-component</a>.<!-- --></p><p>Example:</p><div class="dumi-default-source-code"><button type="button" class="dumi-default-source-code-copy"><svg viewBox="64 64 896 896"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2 263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"></path></svg></button><pre class="prism-code language-ts"><div class=""><div class=""><span class="token comment">// .umirc.ts</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain"></span><span class="token keyword">export</span><span class="token plain"> </span><span class="token keyword">default</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">  clickToComponent</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span></div></div></pre></div><h2 id="clientloader"><a aria-hidden="true" tabindex="-1" href="#clientloader"><span class="icon icon-link"></span></a>clientLoader<!-- --></h2><ul><li>Type: <!-- --><code>{}</code></li><li>Default value: <!-- --><code>false</code></li></ul><p>When enabled, you can declare a data loading function <!-- --><code>clientLoader</code> for each route. Extracting the data loading process required by the page into <!-- --><code>clientLoader</code> allows Umi to preload the data before the page components are fully loaded, avoiding the issue of waterfall requests. For details, see <!-- --><a href="/en-US/docs/guides/client-loader">Route Data Preloading</a>.<!-- --></p><p>Example:</p><div class="dumi-default-source-code"><button type="button" class="dumi-default-source-code-copy"><svg viewBox="64 64 896 896"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2 263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"></path></svg></button><pre class="prism-code language-ts"><div class=""><div class=""><span class="token comment">// .umirc.ts</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain"></span><span class="token keyword">export</span><span class="token plain"> </span><span class="token keyword">default</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">  clientLoader</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span></div></div></pre></div><p>Configuration enabled, use in the route component:</p><div class="dumi-default-source-code"><button type="button" class="dumi-default-source-code-copy"><svg viewBox="64 64 896 896"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2 263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"></path></svg></button><pre class="prism-code language-jsx"><div class=""><div class=""><span class="token comment">// pages/.../some_page.tsx</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">
</span></div></div><div class=""><div class=""><span class="token plain"></span><span class="token keyword module">import</span><span class="token plain"> </span><span class="token imports punctuation">{</span><span class="token imports"> useClientLoaderData </span><span class="token imports punctuation">}</span><span class="token plain"> </span><span class="token keyword module">from</span><span class="token plain"> </span><span class="token string">&#x27;umi&#x27;</span><span class="token punctuation">;</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">
</span></div></div><div class=""><div class=""><span class="token plain"></span><span class="token keyword module">export</span><span class="token plain"> </span><span class="token keyword module">default</span><span class="token plain"> </span><span class="token keyword">function</span><span class="token plain"> </span><span class="token function maybe-class-name">SomePage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">  </span><span class="token keyword">const</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> data </span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function">useClientLoaderData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">  </span><span class="token keyword control-flow">return</span><span class="token plain"> </span><span class="token tag punctuation">&lt;</span><span class="token tag">div</span><span class="token tag punctuation">&gt;</span><span class="token punctuation">{</span><span class="token plain">data</span><span class="token punctuation">}</span><span class="token tag punctuation">&lt;/</span><span class="token tag">div</span><span class="token tag punctuation">&gt;</span><span class="token punctuation">;</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">
</span></div></div><div class=""><div class=""><span class="token plain"></span><span class="token keyword module">export</span><span class="token plain"> </span><span class="token keyword">async</span><span class="token plain"> </span><span class="token keyword">function</span><span class="token plain"> </span><span class="token function">clientLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">  </span><span class="token keyword">const</span><span class="token plain"> data </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword control-flow">await</span><span class="token plain"> </span><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">&#x27;/api/data&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">  </span><span class="token keyword control-flow">return</span><span class="token plain"> data</span><span class="token punctuation">;</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain"></span><span class="token punctuation">}</span></div></div></pre></div><h2 id="codesplitting"><a aria-hidden="true" tabindex="-1" href="#codesplitting"><span class="icon icon-link"></span></a>codeSplitting<!-- --></h2><ul><li>Type: <!-- --><code>{ jsStrategy: &#x27;bigVendors&#x27; | &#x27;depPerChunk&#x27; | &#x27;granularChunks&#x27;; jsStrategyOptions: {} }</code></li><li>Default value: <!-- --><code>null</code></li></ul><p>Provide code splitting strategy solutions.</p><p>bigVendors is the big vendors scheme, which packs the files under node_modules in the async chunk together, which can avoid repetition. At the same time, the disadvantages are, 1) the size of a single file is too large, 2) there is no caching efficiency to speak of.</p><p>depPerChunk is similar to bigVendors, but different in that dependencies are split by package name + version, solving bigVendors’ issues with size and caching efficiency. However, it also brings potential problems, possibly leading to more requests. My understanding is that for non-large projects it’s actually fine because, 1) a single page&#x27;s requests will not include a very large number of dependencies, 2) based on HTTP/2, dozens of requests are not a problem. But, for large or huge projects, a more suitable solution is needed.</p><p>granularChunks take a middle value between bigVendors and depPerChunk, while also having better utilization of caching efficiency. Unless there are special circumstances, the granularChunks strategy is recommended.</p><h2 id="conventionlayout"><a aria-hidden="true" tabindex="-1" href="#conventionlayout"><span class="icon icon-link"></span></a>conventionLayout<!-- --></h2><ul><li>Type: <!-- --><code>boolean</code></li><li>Default value: <!-- --><code>undefined</code></li></ul><p><code>src/layouts/index.[tsx|vue|jsx|js]</code> is conventionally set as layout, enabled by default. It can be disabled by setting <!-- --><code>conventionLayout: false</code>.<!-- --></p><h2 id="conventionroutes"><a aria-hidden="true" tabindex="-1" href="#conventionroutes"><span class="icon icon-link"></span></a>conventionRoutes<!-- --></h2><ul><li>Type: <!-- --><code>{ base: string; exclude: RegExp[] }</code></li><li>Default value: <!-- --><code>null</code></li></ul><p>Modify the default convention-based route rules, only valid when using umi&#x27;s convention-based routing. Convention-based routing, also known as file-based routing, means that you don’t need to write configurations manually, as the file system is the routes, and the routing configuration is analyzed through directories and files and their naming.</p><p>When using convention-based routing, it&#x27;s conventioned that all <!-- --><code>(j|t)sx?</code> files under <!-- --><code>src/pages</code> are routes.<!-- --></p><blockquote><p>You can see more details in <!-- --><a href="/en-US/docs/guides/routes#conventional-routing">Convention-based Routing</a>.<!-- --></p></blockquote><h3 id="base-1"><a aria-hidden="true" tabindex="-1" href="#base-1"><span class="icon icon-link"></span></a>base<!-- --></h3><p><code>base</code> is used to set the base path for the routes by convention, by default reading from <!-- --><code>src/pages</code>. If it is a site for documentation, you might need to change it to <!-- --><code>./docs</code>;<!-- --></p><h3 id="exclude"><a aria-hidden="true" tabindex="-1" href="#exclude"><span class="icon icon-link"></span></a>exclude<!-- --></h3><p>You can use <!-- --><code>exclude</code> to filter some files that are not needed, such as you can use it to exclude files under components, models, etc.<!-- --></p><p>Example,</p><div class="dumi-default-source-code"><button type="button" class="dumi-default-source-code-copy"><svg viewBox="64 64 896 896"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2 263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"></path></svg></button><pre class="prism-code language-js"><div class=""><div class=""><span class="token comment">// Do not recognize files under components and models directories as routes</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain"></span><span class="token literal-property property">conventionRoutes</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">  </span><span class="token literal-property property">exclude</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token regex regex-delimiter">/</span><span class="token regex regex-source language-regex">\/components\/</span><span class="token regex regex-delimiter">/</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token regex regex-delimiter">/</span><span class="token regex regex-source language-regex">\/models\/</span><span class="token regex regex-delimiter">/</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain"></span><span class="token punctuation">}</span></div></div></pre></div><h2 id="copy"><a aria-hidden="true" tabindex="-1" href="#copy"><span class="icon icon-link"></span></a>copy<!-- --></h2><ul><li>Type: <!-- --><code>Array&lt;string | { from: string; to: string; }&gt;</code></li><li>Default value: <!-- --><code>[]</code></li></ul><p>Configure the files or folders to be copied to the output directory.</p><p>When configuring as a string, it is copied to the product directory by default, such as:</p><div class="dumi-default-source-code"><button type="button" class="dumi-default-source-code-copy"><svg viewBox="64 64 896 896"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2 263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"></path></svg></button><pre class="prism-code language-ts"><div class=""><div class=""><span class="token plain">copy</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token string">&#x27;foo.json&#x27;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string">&#x27;src/bar.json&#x27;</span><span class="token punctuation">]</span></div></div></pre></div><p>Will produce the following product structure:</p><div class="dumi-default-source-code"><button type="button" class="dumi-default-source-code-copy"><svg viewBox="64 64 896 896"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2 263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"></path></svg></button><pre class="prism-code language-undefined"><div class=""><div class=""><span class="token plain">+ dist</span></div></div><div class=""><div class=""><span class="token plain">  - bar.json</span></div></div><div class=""><div class=""><span class="token plain">  - foo.json</span></div></div><div class=""><div class=""><span class="token plain">+ src</span></div></div><div class=""><div class=""><span class="token plain">  - bar.json</span></div></div><div class=""><div class=""><span class="token plain">- foo.json</span></div></div></pre></div><p>You can also configure the specific copy location through objects, where the relative path starts from the project root directory:</p><div class="dumi-default-source-code"><button type="button" class="dumi-default-source-code-copy"><svg viewBox="64 64 896 896"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2 263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"></path></svg></button><pre class="prism-code language-ts"><div class=""><div class=""><span class="token plain">copy</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">  </span><span class="token punctuation">{</span><span class="token plain"> from</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string">&#x27;from&#x27;</span><span class="token punctuation">,</span><span class="token plain"> to</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string">&#x27;dist/output&#x27;</span><span class="token plain"> </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">  </span><span class="token punctuation">{</span><span class="token plain"> from</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string">&#x27;file.json&#x27;</span><span class="token punctuation">,</span><span class="token plain"> to</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string">&#x27;dist&#x27;</span><span class="token plain"> </span><span class="token punctuation">}</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain"></span><span class="token punctuation">]</span></div></div></pre></div><p>This time will produce the following product structure:</p><div class="dumi-default-source-code"><button type="button" class="dumi-default-source-code-copy"><svg viewBox="64 64 896 896"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2 263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"></path></svg></button><pre class="prism-code language-undefined"><div class=""><div class=""><span class="token plain">+ dist</span></div></div><div class=""><div class=""><span class="token plain">  + output</span></div></div><div class=""><div class=""><span class="token plain">    - foo.json</span></div></div><div class=""><div class=""><span class="token plain">  - file.json</span></div></div><div class=""><div class=""><span class="token plain">+ from</span></div></div><div class=""><div class=""><span class="token plain">  - foo.json</span></div></div><div class=""><div class=""><span class="token plain">- file.json</span></div></div></pre></div><h2 id="crossorigin"><a aria-hidden="true" tabindex="-1" href="#crossorigin"><span class="icon icon-link"></span></a>crossorigin<!-- --></h2><ul><li>Type: <!-- --><code>{ includes?: string[] }</code></li><li>Default value: <!-- --><code>false</code></li></ul><p>Configure the script tag&#x27;s crossorigin. If declared, the local script will have a crossorigin=&quot;anonymous&quot; attribute.</p><p>Regarding the parameters. The parameter <!-- --><code>includes</code> can allow extra non-local script tags to have this attribute.<!-- --></p><p>For example:</p><div class="dumi-default-source-code"><button type="button" class="dumi-default-source-code-copy"><svg viewBox="64 64 896 896"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2 263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"></path></svg></button><pre class="prism-code language-undefined"><div class=""><div class=""><span class="token plain">crossorigin: {}</span></div></div></pre></div><p>Then the output HTML will have these changes,</p><div class="dumi-default-source-code"><button type="button" class="dumi-default-source-code-copy"><svg viewBox="64 64 896 896"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2 263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"></path></svg></button><pre class="prism-code language-diff"><div class=""><div class=""><span class="token deleted-sign deleted prefix deleted">-</span><span class="token deleted-sign deleted line"></span></div></div><div class=""><div class=""><span class="token deleted-sign deleted line"></span><span class="token deleted-arrow deleted prefix deleted">&lt;</span><span class="token deleted-arrow deleted line">script src=&quot;/umi.js&quot;&gt;&lt;/script&gt;</span></div></div><div class=""><div class=""><span class="token deleted-arrow deleted line"></span><span class="token inserted-sign inserted prefix inserted">+</span><span class="token inserted-sign inserted line"></span></div></div><div class=""><div class=""><span class="token inserted-sign inserted line"></span><span class="token deleted-arrow deleted prefix deleted">&lt;</span><span class="token deleted-arrow deleted line">script src=&quot;/umi.js&quot; crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;</span></div></div></pre></div><h2 id="cssminifier"><a aria-hidden="true" tabindex="-1" href="#cssminifier"><span class="icon icon-link"></span></a>cssMinifier<!-- --></h2><ul><li>Type: <!-- --><code>string</code>, optional values: <!-- --><code>esbuild</code>, <!-- --><code>cssnano</code>, <!-- --><code>parcelCSS</code>, <!-- --><code>none</code></li><li>Default value: <!-- --><code>esbuild</code></li></ul><p>Configure the tool for minifying CSS during build time; <!-- --><code>none</code> means not to minify.<!-- --></p><p>Example:</p><div class="dumi-default-source-code"><button type="button" class="dumi-default-source-code-copy"><svg viewBox="64 64 896 896"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2 263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"></path></svg></button><pre class="prism-code language-js"><div class=""><div class=""><span class="token punctuation">{</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">  </span><span class="token literal-property property">cssMinifier</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string">&#x27;esbuild&#x27;</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain"></span><span class="token punctuation">}</span></div></div></pre></div><h2 id="cssminifieroptions"><a aria-hidden="true" tabindex="-1" href="#cssminifieroptions"><span class="icon icon-link"></span></a>cssMinifierOptions<!-- --></h2><ul><li>Type: <!-- --><code>object</code></li><li>Default value: <!-- --><code>{}</code></li></ul><p>Options for the CSS minification tool, <!-- --><code>cssMinifier</code>.<!-- --></p><p>Example:</p><div class="dumi-default-source-code"><button type="button" class="dumi-default-source-code-copy"><svg viewBox="64 64 896 896"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2 263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"></path></svg></button><pre class="prism-code language-js"><div class=""><div class=""><span class="token punctuation">{</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">  </span><span class="token literal-property property">cssMinifier</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string">&#x27;esbuild&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">  </span><span class="token literal-property property">cssMinifierOptions</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">    </span><span class="token literal-property property">minifyWhitespace</span><span class="token operator">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">    </span><span class="token literal-property property">minifySyntax</span><span class="token operator">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">  </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain"></span><span class="token punctuation">}</span></div></div></pre></div><p>Consult the corresponding documentation for CSS minification configuration.</p><ul><li><a href="https://esbuild.github.io/api/#minify">esbuild reference</a></li><li><a href="https://cssnano.co/docs/config-file/">cssnano reference</a></li><li><a href="https://github.com/parcel-bundler/parcel-css/blob/master/node/index.d.ts">parcelCSS reference</a></li></ul><h2 id="csspublicpath"><a aria-hidden="true" tabindex="-1" href="#csspublicpath"><span class="icon icon-link"></span></a>cssPublicPath<!-- --></h2><ul><li>Type: <!-- --><code>string</code></li><li>Default value: <!-- --><code>./</code></li></ul><p>Customize the public path for external resources like images and files in CSS. Acts similar to <!-- --><code>publicPath</code>. The default value is <!-- --><code>./</code>.<!-- --></p><h2 id="cssloader"><a aria-hidden="true" tabindex="-1" href="#cssloader"><span class="icon icon-link"></span></a>cssLoader<!-- --></h2><ul><li>Type: <!-- --><code>object</code></li><li>Default value: <!-- --><code>{}</code></li></ul><p>Configure css-loader , see <!-- --><a href="https://github.com/webpack-contrib/css-loader#options">css-loader &gt; options</a></p><h2 id="cssloadermodules"><a aria-hidden="true" tabindex="-1" href="#cssloadermodules"><span class="icon icon-link"></span></a>cssLoaderModules<!-- --></h2><ul><li>Type: <!-- --><code>object</code></li><li>Default value: <!-- --><code>{}</code></li></ul><p>Configure the behavior of CSS modules, see <!-- --><a href="https://github.com/webpack-contrib/css-loader#modules">css-loader &gt; modules</a>.<!-- --></p><p>For example:</p><div class="dumi-default-source-code"><button type="button" class="dumi-default-source-code-copy"><svg viewBox="64 64 896 896"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2 263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"></path></svg></button><pre class="prism-code language-ts"><div class=""><div class=""><span class="token plain">cssLoaderModules</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">  </span><span class="token comment">// Configure to use camelCase</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">  exportLocalsConvention</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string">&#x27;camelCase&#x27;</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain"></span><span class="token punctuation">}</span></div></div></pre></div><h2 id="deadcode"><a aria-hidden="true" tabindex="-1" href="#deadcode"><span class="icon icon-link"></span></a>deadCode<!-- --></h2><ul><li>Type: <!-- --><code>{ patterns?: string[]; exclude?: string[]; failOnHint?: boolean; detectUnusedFiles?: boolean; detectUnusedExport?: boolean; context?: string }</code></li><li>Default value: <!-- --><code>false</code></li></ul><p>Check for unused files and exports, only enabled at build phase.</p><p>For example:</p><div class="dumi-default-source-code"><button type="button" class="dumi-default-source-code-copy"><svg viewBox="64 64 896 896"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2 263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"></path></svg></button><pre class="prism-code language-undefined"><div class=""><div class=""><span class="token plain">deadCode: {}</span></div></div></pre></div><p>Then execute build, if any issues are found, a warning will be printed:</p><div class="dumi-default-source-code"><button type="button" class="dumi-default-source-code-copy"><svg viewBox="64 64 896 896"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2 263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"></path></svg></button><pre class="prism-code language-undefined"><div class=""><div class=""><span class="token plain">Warning: There are 1 unused files:</span></div></div><div class=""><div class=""><span class="token plain"> 1. /pages/index.module.less</span></div></div><div class=""><div class=""><span class="token plain"> Please be careful if you want to remove them (¬º-°)¬.</span></div></div></pre></div><p>Configuration items:</p><ul><li><code>patterns</code> : Scope of code identification, such as <!-- --><code>[&#x27;src/pages/**&#x27;]</code></li><li><code>exclude</code> : Scope to exclude from detection, such as <!-- --><code>[&#x27;src/pages/utils/**&#x27;]</code></li><li><code>failOnHint</code> : Whether to stop the process if detection fails, default <!-- --><code>false</code> not to stop<!-- --></li><li><code>detectUnusedFiles</code> : Whether to detect unused files, default <!-- --><code>true</code> for detection<!-- --></li><li><code>detectUnusedExport</code> : Whether to detect unused exports, default <!-- --><code>true</code> for detection<!-- --></li><li><code>context</code> : The directory to start matching, default as the current project root directory<!-- --></li></ul><h2 id="define"><a aria-hidden="true" tabindex="-1" href="#define"><span class="icon icon-link"></span></a>define<!-- --></h2><ul><li>Type: <!-- --><code>Record&lt;string, string&gt;</code></li><li>Default value: As shown below</li></ul><div class="dumi-default-source-code"><button type="button" class="dumi-default-source-code-copy"><svg viewBox="64 64 896 896"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2 263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"></path></svg></button><pre class="prism-code language-undefined"><div class=""><div class=""><span class="token plain">{ </span></div></div><div class=""><div class=""><span class="token plain">    &#x27;process.env.NODE_ENV&#x27; : process.env.NODE_ENV,</span></div></div><div class=""><div class=""><span class="token plain">    &#x27;process.env.HMR&#x27; : process.env.HMR, </span></div></div><div class=""><div class=""><span class="token plain">    &#x27;process.env.SOCKET_SERVER&#x27;: process.env.ERROR_OVERLAY&#x27; </span></div></div><div class=""><div class=""><span class="token plain">  }</span></div></div></pre></div><p>Set available variables in the code based on <!-- --><a href="https://webpack.js.org/plugins/define-plugin/">define-plugin plugin</a>.<!-- --></p></div><div class="dumi-default-container markdown" data-type="warning"><svg viewBox="64 64 896 896"><path d="M464 720a48 48 0 1 0 96 0 48 48 0 1 0-96 0zm16-304v184c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V416c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8zm475.7 440-416-720c-6.2-10.7-16.9-16-27.7-16s-21.6 5.3-27.7 16l-416 720C56 877.4 71.4 904 96 904h832c24.6 0 40-26.6 27.7-48zm-783.5-27.9L512 239.9l339.8 588.2H172.2z"></path></svg><h4>🚨</h4><section><ol><li>Property values will be converted with <!-- --><code>JSON.stringify</code>.<!-- --></li><li>The replacement of key values is matched by their syntactic form, for instance, configuring <!-- --><code>{&#x27;a.b.c&#x27;: &#x27;abcValue&#x27;}</code> can&#x27;t replace the code in <!-- --><code>a.b?.c</code>.<!-- --></li></ol></section></div><div class="markdown"><p>For example,</p><div class="dumi-default-source-code"><button type="button" class="dumi-default-source-code-copy"><svg viewBox="64 64 896 896"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2 263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"></path></svg></button><pre class="prism-code language-undefined"><div class=""><div class=""><span class="token plain">define: { FOO: &#x27;bar&#x27; }</span></div></div></pre></div><p>Then the code like <!-- --><code>console.log(hello, FOO)</code> will be compiled to <!-- --><code>console.log(hello, &#x27;bar&#x27;)</code>.<!-- --></p><p>When you use these variables in a TypeScript project, you need to declare the variable type in the typings file to support ts type hints, for example:</p><p>If your typings file is global:</p><div class="dumi-default-source-code"><button type="button" class="dumi-default-source-code-copy"><svg viewBox="64 64 896 896"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2 263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"></path></svg></button><pre class="prism-code language-ts"><div class=""><div class=""><span class="token comment">// typings.d.ts</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain"></span><span class="token keyword">declare</span><span class="token plain"> </span><span class="token keyword">const</span><span class="token plain"> </span><span class="token constant">FOO</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token punctuation">;</span></div></div></pre></div><p>If your typings file is non-global (contains import/export):</p><div class="dumi-default-source-code"><button type="button" class="dumi-default-source-code-copy"><svg viewBox="64 64 896 896"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2 263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"></path></svg></button><pre class="prism-code language-ts"><div class=""><div class=""><span class="token comment">// typings.d.ts</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain"></span><span class="token keyword">import</span><span class="token plain"> </span><span class="token string">&#x27;./other.d.ts&#x27;</span><span class="token punctuation">;</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">
</span></div></div><div class=""><div class=""><span class="token plain"></span><span class="token keyword">declare</span><span class="token plain"> global </span><span class="token punctuation">{</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain"> </span><span class="token keyword">const</span><span class="token plain"> </span><span class="token constant">FOO</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token punctuation">;</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain"></span><span class="token punctuation">}</span></div></div></pre></div><h2 id="devtool"><a aria-hidden="true" tabindex="-1" href="#devtool"><span class="icon icon-link"></span></a>devtool<!-- --></h2><ul><li>Type: <!-- --><code>string</code></li><li>Default value: Dev defaults to <!-- --><code>cheap-module-source-map</code>, no sourcemap by default for build<!-- --></li></ul><p>Sets the sourcemap generation method.</p><p>Common optional values include:</p><ul><li><code>eval</code>, the fastest type, but does not support old browsers<!-- --></li><li><code>source-map</code>, the slowest but most comprehensive type<!-- --></li></ul><p>Example,</p><div class="dumi-default-source-code"><button type="button" class="dumi-default-source-code-copy"><svg viewBox="64 64 896 896"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2 263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"></path></svg></button><pre class="prism-code language-js"><div class=""><div class=""><span class="token comment">// Disable sourcemap generation in dev stage</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain"></span><span class="token literal-property property">devtool</span><span class="token operator">:</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token punctuation">;</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">
</span></div></div><div class=""><div class=""><span class="token plain"></span><span class="token comment">// Only set sourcemap for dev stage</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain"></span><span class="token literal-property property">devtool</span><span class="token operator">:</span><span class="token plain"> process</span><span class="token punctuation">.</span><span class="token property-access">env</span><span class="token punctuation">.</span><span class="token constant">NODE_ENV</span><span class="token plain"> </span><span class="token operator">===</span><span class="token plain"> </span><span class="token string">&#x27;development&#x27;</span><span class="token plain"> </span><span class="token operator">?</span><span class="token plain"> </span><span class="token string">&#x27;eval&#x27;</span><span class="token plain"> </span><span class="token operator">:</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token punctuation">;</span></div></div></pre></div><h2 id="classpropertiesloose"><a aria-hidden="true" tabindex="-1" href="#classpropertiesloose"><span class="icon icon-link"></span></a>classPropertiesLoose<!-- --></h2><ul><li>Type: <!-- --><code>object</code></li><li>Default value: <!-- --><code>{}</code></li></ul><p>Set babel class-properties to enable loose mode</p><h2 id="esbuildminifyiife"><a aria-hidden="true" tabindex="-1" href="#esbuildminifyiife"><span class="icon icon-link"></span></a>esbuildMinifyIIFE<!-- --></h2><ul><li>Type: <!-- --><code>boolean</code></li><li>Default value: <!-- --><code>false</code></li></ul><p>Fix the namespace conflict caused by global variables automatically introduced by the esbuild compressor.</p><p>Since Umi 4 defaults to using esbuild as the compressor, the compressor will automatically inject global variables as polyfill, which may cause conflicts like async chunks global variables, conflicts between qiankun sub-apps and main apps&#x27; global variables, etc. This issue can be resolved by enabling this option or switching the <!-- --><a href="/en-US/docs/api/config#jsminifier-webpack"><code>jsMinifier</code></a> compressor.<!-- --></p><p>For more details, see <!-- --><a href="https://github.com/vitejs/vite/pull/7948">vite#7948</a>.<!-- --></p><p>Example,</p><div class="dumi-default-source-code"><button type="button" class="dumi-default-source-code-copy"><svg viewBox="64 64 896 896"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2 263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"></path></svg></button><pre class="prism-code language-ts"><div class=""><div class=""><span class="token plain">esbuildMinifyIIFE</span><span class="token operator">:</span><span class="token plain"> </span><span class="token boolean">true</span></div></div></pre></div><h2 id="externals"><a aria-hidden="true" tabindex="-1" href="#externals"><span class="icon icon-link"></span></a>externals<!-- --></h2><ul><li>Type: <!-- --><code>Record&lt;string, string&gt; | Function</code></li><li>Default value: <!-- --><code>{}</code></li></ul><p>Set which modules are not to be bundled, instead to be imported through <!-- --><code>&lt;script&gt;</code> or other methods, usually used in conjunction with headScripts configuration.<!-- --></p><p>Example,</p><div class="dumi-default-source-code"><button type="button" class="dumi-default-source-code-copy"><svg viewBox="64 64 896 896"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2 263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"></path></svg></button><pre class="prism-code language-undefined"><div class=""><div class=""><span class="token plain">// external react</span></div></div><div class=""><div class=""><span class="token plain">externals: { react: &#x27;React&#x27; },</span></div></div><div class=""><div class=""><span class="token plain">headScripts: [&#x27;https://unpkg.com/react@17.0.1/umd/react.production.min.js&#x27;],</span></div></div></pre></div><p>Note: Do not easily set antd’s externals, as due to its many dependencies and complicated usage, many problems could occur, and it’s hard to fully explain in one or two sentences.</p><h2 id="extrababelincludes"><a aria-hidden="true" tabindex="-1" href="#extrababelincludes"><span class="icon icon-link"></span></a>extraBabelIncludes<!-- --></h2><ul><li>Type: <!-- --><code>Array&lt;string | RegExp&gt;</code></li><li>Default value: <!-- --><code>[]</code></li></ul><p>Configures extra NPM packages or directories for Babel compilation. For example:</p><div class="dumi-default-source-code"><button type="button" class="dumi-default-source-code-copy"><svg viewBox="64 64 896 896"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2 263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"></path></svg></button><pre class="prism-code language-js"><div class=""><div class=""><span class="token keyword module">export</span><span class="token plain"> </span><span class="token keyword module">default</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">  </span><span class="token literal-property property">extraBabelIncludes</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">    </span><span class="token comment">// Support absolute path</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">    </span><span class="token function">join</span><span class="token punctuation">(</span><span class="token plain">__dirname</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string">&#x27;../../common&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">    </span><span class="token comment">// Support npm package</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">    </span><span class="token string">&#x27;react-monaco-editor&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">    </span><span class="token comment">// Transpile all paths containing @scope</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">    </span><span class="token operator">/</span><span class="token plain">@scope</span><span class="token operator">/</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">  </span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span></div></div></pre></div><h2 id="extrababelplugins"><a aria-hidden="true" tabindex="-1" href="#extrababelplugins"><span class="icon icon-link"></span></a>extraBabelPlugins<!-- --></h2><ul><li>Type: <!-- --><code>string[] | Function</code></li><li>Default value: <!-- --><code>[]</code></li></ul><p>Configures extra babel plugins. Can pass the plugin address or plugin function.</p><h2 id="extrababelpresets"><a aria-hidden="true" tabindex="-1" href="#extrababelpresets"><span class="icon icon-link"></span></a>extraBabelPresets<!-- --></h2><ul><li>Type: <!-- --><code>string[] | Function</code></li><li>Default value: <!-- --><code>[]</code></li></ul><p>Configures extra babel plugin sets. Can pass the plugin set address or plugin set function.</p><h2 id="extrapostcssplugins"><a aria-hidden="true" tabindex="-1" href="#extrapostcssplugins"><span class="icon icon-link"></span></a>extraPostCSSPlugins<!-- --></h2><ul><li>Type: <!-- --><code>PostCSSPlugin[]</code></li><li>Default value: <!-- --><code>[]</code></li></ul><p>Configures extra postcss</p></div></div><script>$RC("B:2","S:2")</script>