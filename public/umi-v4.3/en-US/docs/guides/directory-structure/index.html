<!DOCTYPE html><html><head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<meta property="og:image" content="https://umijs.org/images/og-home.png">
<meta property="og:url" content="https://umijs.org/">
<meta property="og:type" content="article">
<meta property="og:site_name" content="Umi">
<meta property="og:description" content="Umi是可扩展的企业级前端应用框架。Umi 以路由为基础的，同时支持配置式路由和约定式路由，保证路由的功能完备，并以此进行功能扩展。然后配以生命周期完善的插件体系，覆盖从源码到构建产物的每个生命周期，支持各种功能扩展和业务需求。">
<meta property="twitter:image" content="https://umijs.org/images/og-home.png">
<meta property="twitter:site" content="https://umijs.org/">
<meta property="twitter:creator" content="Umi">
<meta property="twitter:card" content="summary_large_image">
<meta property="twitter:title" content="Umi">
<meta property="twitter:description" content="Umi是可扩展的企业级前端应用框架。Umi 以路由为基础的，同时支持配置式路由和约定式路由，保证路由的功能完备，并以此进行功能扩展。然后配以生命周期完善的插件体系，覆盖从源码到构建产物的每个生命周期，支持各种功能扩展和业务需求。">
<meta property="fb:app_id" content="922985738798968">
<link rel="shortcut icon" href="https://img.alicdn.com/tfs/TB1YHEpwUT1gK0jSZFhXXaAtVXa-28-27.svg">
<link rel="stylesheet" href="/umi.c9f82ed3.css">
<title data-rh="true">Directory Structure</title>
<meta data-rh="true" property="og:title" content="Directory Structure"/><meta data-rh="true" name="description" content="This documents the directory structure conventionally (or recommended) in Umi projects. Please follow this directory structure to organize code during project development."/><meta data-rh="true" property="og:description" content="This documents the directory structure conventionally (or recommended) in Umi projects. Please follow this directory structure to organize code during project development."/>
<link data-rh="true" rel="canonical" href="https://umijs.org//en-US/docs/guides/directory-structure"/>
</head>
<body>
<noscript><b>Enable JavaScript to run this app.</b></noscript><div id="root"><!--$?--><template id="B:0"></template><div></div><!--/$--></div><script>window.__UMI_LOADER_DATA__ = {}</script>
<script async="" src="/umi.0bdf4102.js"></script>

</body></html><div hidden id="S:0"><!--$?--><template id="B:1"></template><div></div><!--/$--></div><script>function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("B:0","S:0")</script><div hidden id="S:1"><div class="dumi-default-doc-layout"><div class="dumi-default-header"><div class="dumi-default-header-content"><section class="dumi-default-header-left"><a class="dumi-default-logo" href="/en-US"><img src="https://gw.alipayobjects.com/zos/bmw-prod/598d14af-4f1c-497d-b579-5ac42cd4dd1f/k7bjua9c_w132_h130.png" alt="UmiJS"/>UmiJS<!-- --></a></section><section class="dumi-default-header-right"><ul class="dumi-default-navbar"><li><a href="/en-US/docs/introduce/introduce">Introduce</a></li><li><a class="active" href="/en-US/docs/guides/getting-started">Guide</a></li><li><a href="/en-US/docs/api/api">API</a></li><li><a href="/en-US/docs/max/introduce">Umi Max</a></li><li><a href="/en-US/blog/umi-4-rc">Blog</a></li></ul><div class="dumi-default-header-right-aside"><div class="dumi-default-search-bar"><svg viewBox="64 64 896 896" class="dumi-default-search-bar-svg"><path d="M909.6 854.5 649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0 0 11.6 0l43.6-43.5a8.2 8.2 0 0 0 0-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"></path></svg><input class="dumi-default-search-bar-input" placeholder="Type keywords..."/><span class="dumi-default-search-shortcut">⌘<!-- --> K<!-- --></span></div><a class="dumi-default-lang-switch" href="/docs/guides/directory-structure">中文</a><span class="dumi-default-color-switch" data-dumi-tooltip="Light Mode" data-dumi-tooltip-bottom="true"><svg viewBox="0 0 16 16"><path d="M8 13a1 1 0 0 1 1 1v1a1 1 0 1 1-2 0v-1a1 1 0 0 1 1-1ZM8 3a1 1 0 0 1-1-1V1a1 1 0 1 1 2 0v1a1 1 0 0 1-1 1Zm7 4a1 1 0 1 1 0 2h-1a1 1 0 1 1 0-2h1ZM3 8a1 1 0 0 1-1 1H1a1 1 0 1 1 0-2h1a1 1 0 0 1 1 1Zm9.95 3.536.707.707a1 1 0 0 1-1.414 1.414l-.707-.707a1 1 0 0 1 1.414-1.414Zm-9.9-7.072-.707-.707a1 1 0 0 1 1.414-1.414l.707.707A1 1 0 0 1 3.05 4.464Zm9.9 0a1 1 0 0 1-1.414-1.414l.707-.707a1 1 0 0 1 1.414 1.414l-.707.707Zm-9.9 7.072a1 1 0 0 1 1.414 1.414l-.707.707a1 1 0 0 1-1.414-1.414l.707-.707ZM8 4a4 4 0 1 0 0 8 4 4 0 0 0 0-8Zm0 6.5a2.5 2.5 0 1 1 0-5 2.5 2.5 0 0 1 0 5Z"></path></svg><select><option value="light" selected="">Light Mode<!-- --></option><option value="dark">Dark Mode<!-- --></option><option value="auto">Follow System<!-- --></option></select></span><a class="dumi-default-icon" data-dumi-tooltip="GitHub" data-dumi-tooltip-bottom="true" target="_blank" href="https://github.com/umijs/umi" rel="noreferrer"><svg viewBox="64 64 896 896"><path d="M511.6 76.3C264.3 76.2 64 276.4 64 523.5 64 718.9 189.3 885 363.8 946c23.5 5.9 19.9-10.8 19.9-22.2v-77.5c-135.7 15.9-141.2-73.9-150.3-88.9C215 726 171.5 718 184.5 703c30.9-15.9 62.4 4 98.9 57.9 26.4 39.1 77.9 32.5 104 26 5.7-23.5 17.9-44.5 34.7-60.8-140.6-25.2-199.2-111-199.2-213 0-49.5 16.3-95 48.3-131.7-20.4-60.5 1.9-112.3 4.9-120 58.1-5.2 118.5 41.6 123.2 45.3 33-8.9 70.7-13.6 112.9-13.6 42.4 0 80.2 4.9 113.5 13.9 11.3-8.6 67.3-48.8 121.3-43.9 2.9 7.7 24.7 58.3 5.5 118 32.4 36.8 48.9 82.7 48.9 132.3 0 102.2-59 188.1-200 212.9a127.5 127.5 0 0 1 38.1 91v112.5c.8 9 0 17.9 15 17.9 177.1-59.7 304.6-227 304.6-424.1 0-247.2-200.4-447.3-447.5-447.3z"></path></svg></a><div class="dumi-default-lang-select" style="border-inline-start:1px solid #d0d5d8;margin-inline-start:15px;padding-inline-start:5px"><select style="padding-top:1px;padding-bottom:1px"><option value="4.3.31" selected="">4.3.31<!-- --></option><option value="3.x">3.x<!-- --></option></select><svg viewBox="64 64 896 896"><path d="M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"></path></svg></div></div></section><button type="button" class="dumi-default-header-menu-btn"><svg viewBox="64 64 896 896"><path d="M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"></path></svg></button></div></div><div class="dumi-default-doc-layout-mobile-bar"><button type="button" class="dumi-default-sidebar-btn"><svg viewBox="64 64 896 896"><path d="M120 230h496c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm0 424h496c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm784 140H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0-424H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"></path></svg>Sidebar<!-- --></button></div><main><div class="dumi-default-sidebar"><dl class="dumi-default-sidebar-group"><dd><a title="Getting Started" class="" href="/en-US/docs/guides/getting-started">Getting Started</a></dd><dd><a title="Development Environment" class="" href="/en-US/docs/guides/prepare">Development Environment</a></dd><dd><a title="Directory Structure" aria-current="page" class="active" href="/en-US/docs/guides/directory-structure">Directory Structure</a></dd><dd><a title="Routing" class="" href="/en-US/docs/guides/routes">Routing</a></dd><dd><a title="Plugins" class="" href="/en-US/docs/guides/use-plugins">Plugins</a></dd><dd><a title="Mock" class="" href="/en-US/docs/guides/mock">Mock</a></dd><dd><a title="Proxy" class="" href="/en-US/docs/guides/proxy">Proxy</a></dd><dd><a title="Styles" class="" href="/en-US/docs/guides/styling">Styles</a></dd><dd><a title="Route Data Loading" class="" href="/en-US/docs/guides/client-loader">Route Data Loading</a></dd><dd><a title="TypeScript" class="" href="/en-US/docs/guides/typescript">TypeScript</a></dd><dd><a title="Environment Variables" class="" href="/en-US/docs/guides/env-variables">Environment Variables</a></dd><dd><a title="Scaffolding" class="" href="/en-US/docs/guides/boilerplate">Scaffolding</a></dd><dd><a title="Micro Generators" class="" href="/en-US/docs/guides/generator">Micro Generators</a></dd><dd><a title="Coding Standards" class="" href="/en-US/docs/guides/lint">Coding Standards</a></dd><dd><a title="Debugging" class="" href="/en-US/docs/guides/debug">Debugging</a></dd><dd><a title="Testing" class="" href="/en-US/docs/guides/test">Testing</a></dd><dd><a title="Plugin Development" class="" href="/en-US/docs/guides/plugins">Plugin Development</a></dd><dd><a title="Using Vue" class="" href="/en-US/docs/guides/use-vue">Using Vue</a></dd><dd><a title="MPA Mode" class="" href="/en-US/docs/guides/mpa">MPA Mode</a></dd><dd><a title="MFSU" class="" href="/en-US/docs/guides/mfsu">MFSU</a></dd></dl></div><div class="dumi-default-content"><article><!--$?--><template id="B:2"></template><div></div><!--/$--></article><footer class="dumi-default-content-footer"><dl><dd><svg viewBox="64 64 896 896"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"></path><path d="M686.7 638.6 544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z"></path></svg>Last updated: <!-- --><time dateTime=""></time></dd></dl><nav></nav></footer><div class="dumi-default-footer">Open-source MIT Licensed | Copyright © 2017-present</div></div><div class="dumi-default-doc-layout-toc-wrapper"><h4>TABLE OF CONTENTS</h4></div></main></div></div><script>$RC("B:1","S:1")</script><div hidden id="S:2"><div class="markdown"><h1 id="directory-structure"><a aria-hidden="true" tabindex="-1" href="#directory-structure"><span class="icon icon-link"></span></a>Directory Structure<!-- --></h1><p>This documents the directory structure conventionally (or recommended) in Umi projects. Please follow this directory structure to organize code during project development.</p><div class="dumi-default-source-code"><button type="button" class="dumi-default-source-code-copy"><svg viewBox="64 64 896 896"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2 263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"></path></svg></button><pre class="prism-code language-bash"><div class=""><div class=""><span class="token builtin class-name">.</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">├── config</span></div></div><div class=""><div class=""><span class="token plain">│   └── config.ts</span></div></div><div class=""><div class=""><span class="token plain">├── dist</span></div></div><div class=""><div class=""><span class="token plain">├── mock</span></div></div><div class=""><div class=""><span class="token plain">│   └── app.ts｜tsx</span></div></div><div class=""><div class=""><span class="token plain">├── src</span></div></div><div class=""><div class=""><span class="token plain">│   ├── .umi</span></div></div><div class=""><div class=""><span class="token plain">│   ├── .umi-production</span></div></div><div class=""><div class=""><span class="token plain">│   ├── layouts</span></div></div><div class=""><div class=""><span class="token plain">│   │   ├── BasicLayout.tsx</span></div></div><div class=""><div class=""><span class="token plain">│   │   ├── index.less</span></div></div><div class=""><div class=""><span class="token plain">│   ├── models</span></div></div><div class=""><div class=""><span class="token plain">│   │   ├── global.ts</span></div></div><div class=""><div class=""><span class="token plain">│   │   └── index.ts</span></div></div><div class=""><div class=""><span class="token plain">│   ├── pages</span></div></div><div class=""><div class=""><span class="token plain">│   │   ├── index.less</span></div></div><div class=""><div class=""><span class="token plain">│   │   └── index.tsx</span></div></div><div class=""><div class=""><span class="token plain">│   ├── utils // Recommended directory</span></div></div><div class=""><div class=""><span class="token plain">│   │   └── index.ts</span></div></div><div class=""><div class=""><span class="token plain">│   ├── services // Recommended directory</span></div></div><div class=""><div class=""><span class="token plain">│   │   └── api.ts</span></div></div><div class=""><div class=""><span class="token plain">│   ├── app.</span><span class="token punctuation">(</span><span class="token plain">ts</span><span class="token operator">|</span><span class="token plain">tsx</span><span class="token punctuation">)</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">│   ├── global.ts</span></div></div><div class=""><div class=""><span class="token plain">│   ├── global.</span><span class="token punctuation">(</span><span class="token plain">css</span><span class="token operator">|</span><span class="token function">less</span><span class="token operator">|</span><span class="token plain">sass</span><span class="token operator">|</span><span class="token plain">scss</span><span class="token punctuation">)</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">│   ├── overrides.</span><span class="token punctuation">(</span><span class="token plain">css</span><span class="token operator">|</span><span class="token function">less</span><span class="token operator">|</span><span class="token plain">sass</span><span class="token operator">|</span><span class="token plain">scss</span><span class="token punctuation">)</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">│   ├── favicon.</span><span class="token punctuation">(</span><span class="token plain">ico</span><span class="token operator">|</span><span class="token plain">gif</span><span class="token operator">|</span><span class="token plain">png</span><span class="token operator">|</span><span class="token plain">jpg</span><span class="token operator">|</span><span class="token plain">jpeg</span><span class="token operator">|</span><span class="token plain">svg</span><span class="token operator">|</span><span class="token plain">avif</span><span class="token operator">|</span><span class="token plain">webp</span><span class="token punctuation">)</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">│   └── loading.</span><span class="token punctuation">(</span><span class="token plain">tsx</span><span class="token operator">|</span><span class="token plain">jsx</span><span class="token punctuation">)</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">├── node_modules</span></div></div><div class=""><div class=""><span class="token plain">│   └── .cache</span></div></div><div class=""><div class=""><span class="token plain">│       ├── bundler-webpack</span></div></div><div class=""><div class=""><span class="token plain">│       ├── mfsu</span></div></div><div class=""><div class=""><span class="token plain">│       └── mfsu-deps</span></div></div><div class=""><div class=""><span class="token plain">├── .env</span></div></div><div class=""><div class=""><span class="token plain">├── plugin.ts </span></div></div><div class=""><div class=""><span class="token plain">├── .umirc.ts // Choose between this and the config/config.ts </span><span class="token function">file</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">├── package.json</span></div></div><div class=""><div class=""><span class="token plain">├── tsconfig.json</span></div></div><div class=""><div class=""><span class="token plain">└── typings.d.ts</span></div></div></pre></div><h2 id="root-directory"><a aria-hidden="true" tabindex="-1" href="#root-directory"><span class="icon icon-link"></span></a>Root Directory<!-- --></h2><h3 id="packagejson"><a aria-hidden="true" tabindex="-1" href="#packagejson"><span class="icon icon-link"></span></a>package.json<!-- --></h3><p>Unlike Umi 3, Umi 4 does not automatically register plugins or presets beginning with <!-- --><code>@umijs/preset-</code>, <!-- --><code>@umijs/plugin-</code>, <!-- --><code>umi-preset-</code>, and <!-- --><code>umi-plugin-</code> in <!-- --><code>package.json</code>. If you need to customize additional plugins/presets, you must manually configure them in <!-- --><a href="/en-US/docs/api/config#plugins"><code>plugins</code></a>.<!-- --></p><h3 id="env"><a aria-hidden="true" tabindex="-1" href="#env"><span class="icon icon-link"></span></a>.env<!-- --></h3><p>Environment variables, such as:</p><div class="dumi-default-source-code"><button type="button" class="dumi-default-source-code-copy"><svg viewBox="64 64 896 896"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2 263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"></path></svg></button><pre class="prism-code language-text"><div class=""><div class=""><span class="token plain">PORT=8888</span></div></div><div class=""><div class=""><span class="token plain">COMPRESS=none</span></div></div></pre></div><h3 id="umircts"><a aria-hidden="true" tabindex="-1" href="#umircts"><span class="icon icon-link"></span></a>.umirc.ts<!-- --></h3><blockquote><p>Same function as the <!-- --><code>config/config.ts</code> file, choose 1 out of 2. <!-- --><code>.umirc.ts</code> file has a higher priority<!-- --></p></blockquote><p>Configuration file, includes all <!-- --><a href="/en-US/docs/api/config">non-runtime configurations</a> in Umi (Runtime configurations are generally defined in <!-- --><a href="/en-US/docs/guides/directory-structure#apptstsx"><code>app.ts</code></a>).<!-- --></p><p>If you need to load different configurations in different environments, in Umi, this is achieved through <!-- --><a href="/en-US/docs/guides/env-variables#umi_env"><code>UMI_ENV</code></a>. An example of starting in a different environment:<!-- --></p><div class="dumi-default-source-code"><button type="button" class="dumi-default-source-code-copy"><svg viewBox="64 64 896 896"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2 263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"></path></svg></button><pre class="prism-code language-ts"><div class=""><div class=""><span class="token comment">// package.json</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain"></span><span class="token punctuation">{</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">  </span><span class="token string-property property">&quot;scripts&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">    </span><span class="token string-property property">&quot;dev&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string">&quot;umi dev&quot;</span><span class="token punctuation">,</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">    </span><span class="token string-property property">&quot;dev:pre&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string">&quot;cross-env UMI_ENV=pre umi dev&quot;</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain"></span><span class="token punctuation">}</span></div></div></pre></div><h3 id="configconfigts"><a aria-hidden="true" tabindex="-1" href="#configconfigts"><span class="icon icon-link"></span></a>config/config.ts<!-- --></h3><blockquote><p>Same function as the <!-- --><code>.umirc.ts</code> file, choose 1 out of 2. <!-- --><code>.umirc.ts</code> file has a higher priority<!-- --></p></blockquote><p>Same as <!-- --><a href="/en-US/docs/guides/directory-structure#umircts"><code>.umirc.ts</code></a>, the difference is that you can consolidate all configurations in a separate <!-- --><code>config</code> folder under the root directory to keep it neat.<!-- --></p><h3 id="dist-directory"><a aria-hidden="true" tabindex="-1" href="#dist-directory"><span class="icon icon-link"></span></a>dist Directory<!-- --></h3><p>The default output folder for artifacts after executing <!-- --><code>umi build</code>. You can modify the output folder through the <!-- --><a href="/en-US/docs/api/config#outputpath"><code>outputPath</code></a> configuration.<!-- --></p><h3 id="mock-directory"><a aria-hidden="true" tabindex="-1" href="#mock-directory"><span class="icon icon-link"></span></a>mock Directory<!-- --></h3><p>Place for mock files. All <!-- --><code>.ts</code> / <!-- --><code>.js</code> files in this directory will be loaded by the mock service to provide simulated data. See <!-- --><a href="/en-US/docs/guides/mock">Mock</a> for usage details.<!-- --></p><h3 id="public-directory"><a aria-hidden="true" tabindex="-1" href="#public-directory"><span class="icon icon-link"></span></a>public Directory<!-- --></h3><p>Stores fixed static resources. For example, by placing <!-- --><code>public/image.png</code>, it can be accessed during development via <!-- --><code>/image.png</code>, and will be copied to the output folder after building.<!-- --></p><p>Note:</p><ol><li>For svg resources, Umi supports <!-- --><a href="/en-US/docs/api/config#svgr">svgr</a>, which can be directly imported for use as a component:<!-- --></li></ol><div class="dumi-default-source-code"><button type="button" class="dumi-default-source-code-copy"><svg viewBox="64 64 896 896"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2 263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"></path></svg></button><pre class="prism-code language-ts"><div class=""><div class=""><span class="token keyword">import</span><span class="token plain"> SmileUrl</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> ReactComponent </span><span class="token keyword">as</span><span class="token plain"> SvgSmile </span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token keyword">from</span><span class="token plain"> </span><span class="token string">&#x27;./smile.svg&#x27;</span><span class="token punctuation">;</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain"></span><span class="token comment">// &lt;SvgSmile /&gt;</span></div></div></pre></div><ol start="2"><li>For resources like images, Umi supports direct import to obtain the resource path:</li></ol><div class="dumi-default-source-code"><button type="button" class="dumi-default-source-code-copy"><svg viewBox="64 64 896 896"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2 263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"></path></svg></button><pre class="prism-code language-tsx"><div class=""><div class=""><span class="token keyword">import</span><span class="token plain"> </span><span class="token imports">imgUrl</span><span class="token plain"> </span><span class="token keyword">from</span><span class="token plain"> </span><span class="token string">&#x27;./image.png&#x27;</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain"></span><span class="token comment">// &lt;img src={imgUrl} /&gt;&gt;</span></div></div></pre></div><h3 id="src-directory"><a aria-hidden="true" tabindex="-1" href="#src-directory"><span class="icon icon-link"></span></a><code>src</code> Directory<!-- --></h3><h4 id="umi-directory"><a aria-hidden="true" tabindex="-1" href="#umi-directory"><span class="icon icon-link"></span></a>.umi Directory<!-- --></h4></div><div class="dumi-default-container markdown" data-type="warning"><svg viewBox="64 64 896 896"><path d="M464 720a48 48 0 1 0 96 0 48 48 0 1 0-96 0zm16-304v184c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V416c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8zm475.7 440-416-720c-6.2-10.7-16.9-16-27.7-16s-21.6 5.3-27.7 16l-416 720C56 877.4 71.4 904 96 904h832c24.6 0 40-26.6 27.7-48zm-783.5-27.9L512 239.9l339.8 588.2H172.2z"></path></svg><h4>🛎️</h4><section><p><strong>Do not commit <!-- --><code>.umi</code> temporary files to the git repository, already ignored by default in <!-- --><code>.gitignore</code>.<!-- --></strong></p></section></div><div class="markdown"><p>Temporary file directory during development, such as entry files, routes, etc., will be temporarily generated here.</p><h4 id="umi-production-directory"><a aria-hidden="true" tabindex="-1" href="#umi-production-directory"><span class="icon icon-link"></span></a>.umi-production Directory<!-- --></h4></div><div class="dumi-default-container markdown" data-type="warning"><svg viewBox="64 64 896 896"><path d="M464 720a48 48 0 1 0 96 0 48 48 0 1 0-96 0zm16-304v184c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V416c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8zm475.7 440-416-720c-6.2-10.7-16.9-16-27.7-16s-21.6 5.3-27.7 16l-416 720C56 877.4 71.4 904 96 904h832c24.6 0 40-26.6 27.7-48zm-783.5-27.9L512 239.9l339.8 588.2H172.2z"></path></svg><h4>🛎️</h4><section><p><strong>Do not commit <!-- --><code>.umi-production</code> temporary files to the git repository, already ignored by default in <!-- --><code>.gitignore</code>.<!-- --></strong></p></section></div><div class="markdown"><p>Temporary file directory during build, such as entry files, routes, etc., will be temporarily generated here.</p><h4 id="apptstsx"><a aria-hidden="true" tabindex="-1" href="#apptstsx"><span class="icon icon-link"></span></a>app.[ts|tsx]<!-- --></h4><p><a href="/en-US/docs/api/runtime-config">Runtime configuration</a> file, where you can extend runtime capabilities, such as modifying routes, modifying the render method, etc.<!-- --></p><p>The logic brought by runtime configuration runs in the browser. Therefore, when there are remote configurations, dynamic content, etc., which are not certain during local development and cannot be hardcoded, it is necessary to dynamically obtain them when the project is actually run in the browser.</p><h4 id="layoutsindextsx"><a aria-hidden="true" tabindex="-1" href="#layoutsindextsx"><span class="icon icon-link"></span></a>layouts/index.tsx<!-- --></h4><p>Global layout, will be effective under all routes by default. For example, with the following route relationship:</p><div class="dumi-default-source-code"><button type="button" class="dumi-default-source-code-copy"><svg viewBox="64 64 896 896"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2 263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"></path></svg></button><pre class="prism-code language-undefined"><div class=""><div class=""><span class="token plain">[</span></div></div><div class=""><div class=""><span class="token plain">  { path: &#x27;/&#x27;, component: &#x27;@/pages/index&#x27; },</span></div></div><div class=""><div class=""><span class="token plain">  { path: &#x27;/users&#x27;, component: &#x27;@/pages/users&#x27; },</span></div></div><div class=""><div class=""><span class="token plain">]</span></div></div></pre></div><p>The output will be:</p><div class="dumi-default-source-code"><button type="button" class="dumi-default-source-code-copy"><svg viewBox="64 64 896 896"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2 263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"></path></svg></button><pre class="prism-code language-jsx"><div class=""><div class=""><span class="token tag punctuation">&lt;</span><span class="token tag class-name">Layout</span><span class="token tag punctuation">&gt;</span><span class="token plain-text"></span></div></div><div class=""><div class=""><span class="token plain-text">  </span><span class="token tag punctuation">&lt;</span><span class="token tag class-name">Page</span><span class="token tag punctuation">&gt;</span><span class="token plain-text">index</span><span class="token tag punctuation">&lt;/</span><span class="token tag class-name">Page</span><span class="token tag punctuation">&gt;</span><span class="token plain-text"></span></div></div><div class=""><div class=""><span class="token plain-text">  </span><span class="token tag punctuation">&lt;</span><span class="token tag class-name">Page</span><span class="token tag punctuation">&gt;</span><span class="token plain-text">users</span><span class="token tag punctuation">&lt;/</span><span class="token tag class-name">Page</span><span class="token tag punctuation">&gt;</span><span class="token plain-text"></span></div></div><div class=""><div class=""><span class="token plain-text"></span><span class="token tag punctuation">&lt;/</span><span class="token tag class-name">Layout</span><span class="token tag punctuation">&gt;</span></div></div></pre></div><p>When you need to turn off layout, you can use <!-- --><code>layout: false</code>. When you need more layers of layout, consider using <!-- --><a href="/en-US/docs/guides/routes#wrappers"><code>wrappers</code></a>, only available in configuration routes:<!-- --></p><div class="dumi-default-source-code"><button type="button" class="dumi-default-source-code-copy"><svg viewBox="64 64 896 896"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2 263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"></path></svg></button><pre class="prism-code language-ts"><div class=""><div class=""><span class="token plain">routes</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">    </span><span class="token punctuation">{</span><span class="token plain"> path</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string">&#x27;/&#x27;</span><span class="token punctuation">,</span><span class="token plain"> component</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string">&#x27;./index&#x27;</span><span class="token punctuation">,</span><span class="token plain"> layout</span><span class="token operator">:</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token plain"> </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">    </span><span class="token punctuation">{</span><span class="token plain"> </span></div></div><div class=""><div class=""><span class="token plain">      path</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string">&#x27;/users&#x27;</span><span class="token punctuation">,</span><span class="token plain"> </span></div></div><div class=""><div class=""><span class="token plain">      component</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string">&#x27;./users&#x27;</span><span class="token punctuation">,</span><span class="token plain"> </span></div></div><div class=""><div class=""><span class="token plain">      wrappers</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token string">&#x27;@/wrappers/auth&#x27;</span><span class="token punctuation">]</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">    </span><span class="token punctuation">}</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">  </span><span class="token punctuation">]</span></div></div></pre></div><h4 id="pages-directory"><a aria-hidden="true" tabindex="-1" href="#pages-directory"><span class="icon icon-link"></span></a>pages Directory<!-- --></h4><p>Conventionally, the route table is generated based on the file hierarchy structure of the <!-- --><code>pages/*</code> folder for convention-based routing.<!-- --></p><p>In configuration-based routing, if <!-- --><code>component</code> is written as a relative path, it will start looking for files from this folder:<!-- --></p><div class="dumi-default-source-code"><button type="button" class="dumi-default-source-code-copy"><svg viewBox="64 64 896 896"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2 263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"></path></svg></button><pre class="prism-code language-ts"><div class=""><div class=""><span class="token plain">routes</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">    </span><span class="token comment">// `./index` === `@/pages/index`</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">    </span><span class="token punctuation">{</span><span class="token plain"> path</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string">&#x27;/&#x27;</span><span class="token punctuation">,</span><span class="token plain"> component</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string">&#x27;./index&#x27;</span><span class="token plain"> </span><span class="token punctuation">}</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">  </span><span class="token punctuation">]</span></div></div></pre></div><h5 id="basic-routes"><a aria-hidden="true" tabindex="-1" href="#basic-routes"><span class="icon icon-link"></span></a>Basic Routes<!-- --></h5><p>Assuming the <!-- --><code>pages</code> directory structure is as follows:<!-- --></p><div class="dumi-default-source-code"><button type="button" class="dumi-default-source-code-copy"><svg viewBox="64 64 896 896"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2 263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"></path></svg></button><pre class="prism-code language-undefined"><div class=""><div class=""><span class="token plain">+ pages/</span></div></div><div class=""><div class=""><span class="token plain">  + users/</span></div></div><div class=""><div class=""><span class="token plain">    - index.tsx</span></div></div><div class=""><div class=""><span class="token plain">  - index.tsx</span></div></div></pre></div><p>Then, the automatically generated routing configuration would be as follows:</p><div class="dumi-default-source-code"><button type="button" class="dumi-default-source-code-copy"><svg viewBox="64 64 896 896"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2 263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"></path></svg></button><pre class="prism-code language-ts"><div class=""><div class=""><span class="token punctuation">[</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">  </span><span class="token punctuation">{</span><span class="token plain"> path</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string">&#x27;/&#x27;</span><span class="token punctuation">,</span><span class="token plain"> component</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string">&#x27;@/pages/index.tsx&#x27;</span><span class="token plain"> </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">  </span><span class="token punctuation">{</span><span class="token plain"> path</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string">&#x27;/users/&#x27;</span><span class="token punctuation">,</span><span class="token plain"> component</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string">&#x27;@/pages/users/index.tsx&#x27;</span><span class="token plain"> </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain"></span><span class="token punctuation">]</span></div></div></pre></div><h5 id="dynamic-routes"><a aria-hidden="true" tabindex="-1" href="#dynamic-routes"><span class="icon icon-link"></span></a>Dynamic Routes<!-- --></h5><p>Directories or files prefixed with <!-- --><code>$</code> are considered dynamic routes. If no parameter name is specified after <!-- --><code>$</code>, it represents <!-- --><code>*</code> wildcard. For example, with the following directory structure:<!-- --></p><div class="dumi-default-source-code"><button type="button" class="dumi-default-source-code-copy"><svg viewBox="64 64 896 896"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2 263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"></path></svg></button><pre class="prism-code language-undefined"><div class=""><div class=""><span class="token plain">+ pages/</span></div></div><div class=""><div class=""><span class="token plain">  + foo/</span></div></div><div class=""><div class=""><span class="token plain">    - $slug.tsx</span></div></div><div class=""><div class=""><span class="token plain">  + $bar/</span></div></div><div class=""><div class=""><span class="token plain">    - $.tsx</span></div></div><div class=""><div class=""><span class="token plain">  - index.tsx</span></div></div></pre></div><p>The generated routing configuration would be as follows:</p><div class="dumi-default-source-code"><button type="button" class="dumi-default-source-code-copy"><svg viewBox="64 64 896 896"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2 263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"></path></svg></button><pre class="prism-code language-ts"><div class=""><div class=""><span class="token punctuation">[</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">  </span><span class="token punctuation">{</span><span class="token plain"> path</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string">&#x27;/&#x27;</span><span class="token punctuation">,</span><span class="token plain"> component</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string">&#x27;@/pages/index.tsx&#x27;</span><span class="token plain"> </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">  </span><span class="token punctuation">{</span><span class="token plain"> path</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string">&#x27;/foo/:slug&#x27;</span><span class="token punctuation">,</span><span class="token plain"> component</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string">&#x27;@/pages/foo/$slug.tsx&#x27;</span><span class="token plain"> </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">  </span><span class="token punctuation">{</span><span class="token plain"> path</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string">&#x27;/:bar/*&#x27;</span><span class="token punctuation">,</span><span class="token plain"> component</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string">&#x27;@/pages/$bar/$.tsx&#x27;</span><span class="token plain"> </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain"></span><span class="token punctuation">]</span></div></div></pre></div><h5 id="pages404tsx"><a aria-hidden="true" tabindex="-1" href="#pages404tsx"><span class="icon icon-link"></span></a>pages/404.tsx<!-- --></h5><p>In convention-based routing, this file will automatically be registered as the global fallback page for 404. If you are using configuration-based routing, you need to manually configure the catchall route at the end of the route table:</p><div class="dumi-default-source-code"><button type="button" class="dumi-default-source-code-copy"><svg viewBox="64 64 896 896"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2 263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"></path></svg></button><pre class="prism-code language-ts"><div class=""><div class=""><span class="token plain">routes</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">    </span><span class="token comment">// other routes ...</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">    </span><span class="token punctuation">{</span><span class="token plain"> path</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string">&#x27;/*&#x27;</span><span class="token punctuation">,</span><span class="token plain"> component</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string">&#x27;@/pages/404.tsx&#x27;</span><span class="token plain"> </span><span class="token punctuation">}</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">  </span><span class="token punctuation">]</span></div></div></pre></div><h4 id="globaljtsx"><a aria-hidden="true" tabindex="-1" href="#globaljtsx"><span class="icon icon-link"></span></a>global.(j|t)sx?<!-- --></h4><p>Global pre-script file.</p><p>Unlike other front-end frameworks, Umi does not have an explicit main application entry (like <!-- --><code>src/index.ts</code>). So when you have logic that needs to run globally or at the application front-end, consider including it in <!-- --><code>global.ts</code>.<!-- --></p><p>When you need to add a global Context or modify application runtime, please use <!-- --><a href="/en-US/docs/guides/directory-structure#apptstsx"><code>app.tsx</code></a>.<!-- --></p><h4 id="globalcsslesssassscss"><a aria-hidden="true" tabindex="-1" href="#globalcsslesssassscss"><span class="icon icon-link"></span></a>global.(css|less|sass|scss)<!-- --></h4><p>Global style file.</p><p>When you need to use styles globally, consider adding them to this file.</p></div><div class="dumi-default-container markdown" data-type="info"><svg viewBox="64 64 896 896"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"></path><path d="M464 336a48 48 0 1 0 96 0 48 48 0 1 0-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z"></path></svg><h4>💡</h4><section><p>Note that the priority of this file is after the styles of third-party component libraries. So, when you need to override the styles of a third-party library, please use <!-- --><a href="/en-US/docs/guides/directory-structure#overridescsslesssassscss"><code>overrides.css</code></a>.<!-- --></p></section></div><div class="markdown"><h4 id="overridescsslesssassscss"><a aria-hidden="true" tabindex="-1" href="#overridescsslesssassscss"><span class="icon icon-link"></span></a>overrides.(css|less|sass|scss)<!-- --></h4><p>High-priority global style file.</p><p>This file is generally dedicated for overriding third-party library styles, where all CSS selectors will be prefixed with <!-- --><code>body</code> to lift the priority.<!-- --></p><h4 id="loadingtsxjsx"><a aria-hidden="true" tabindex="-1" href="#loadingtsxjsx"><span class="icon icon-link"></span></a>loading.(tsx|jsx)<!-- --></h4><p>Global loading component.</p><p>Umi 4 defaults to <!-- --><a href="/en-US/blog/code-splitting">code splitting by page</a>, so there is a loading process during page switching. Configure loading animations through this file.<!-- --></p><h3 id="plugints"><a aria-hidden="true" tabindex="-1" href="#plugints"><span class="icon icon-link"></span></a>plugin.ts<!-- --></h3><p>Project-level Umi plugin.</p><p>When you have Umi customization needs, you often use <!-- --><a href="/en-US/docs/api/plugin-api">plugin API</a> (such as <!-- --><a href="/en-US/docs/api/plugin-api#modifyhtml">modifying product html</a>). In this case, you can create this file for customization:<!-- --></p><div class="dumi-default-source-code"><button type="button" class="dumi-default-source-code-copy"><svg viewBox="64 64 896 896"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2 263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"></path></svg></button><pre class="prism-code language-ts"><div class=""><div class=""><span class="token keyword">import</span><span class="token plain"> </span><span class="token keyword">type</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> IApi </span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token keyword">from</span><span class="token plain"> </span><span class="token string">&#x27;umi&#x27;</span><span class="token punctuation">;</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">
</span></div></div><div class=""><div class=""><span class="token plain"></span><span class="token keyword">export</span><span class="token plain"> </span><span class="token keyword">default</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">api</span><span class="token operator">:</span><span class="token plain"> IApi</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">  api</span><span class="token punctuation">.</span><span class="token function">onDevCompileDone</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token plain">opts</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">    opts</span><span class="token punctuation">;</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">    </span><span class="token comment">// console.log(&#x27;&gt; onDevCompileDone&#x27;, opts.isFirstCompile);</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">  </span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">  api</span><span class="token punctuation">.</span><span class="token function">modifyHTML</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token plain">$</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">    $</span><span class="token punctuation">;</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">  </span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">  api</span><span class="token punctuation">.</span><span class="token function">chainWebpack</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token plain">memo</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">    memo</span><span class="token punctuation">;</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain">  </span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div></div><div class=""><div class=""><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span></div></div></pre></div><h3 id="favicon"><a aria-hidden="true" tabindex="-1" href="#favicon"><span class="icon icon-link"></span></a>favicon<!-- --></h3><p>Site <!-- --><code>favicon</code> icon file.<!-- --></p><p>When a <!-- --><code>src/favicon.(ico|gif|png|jpg|jpeg|svg|avif|webp)</code> file exists, it will automatically add the site <!-- --><code>favicon</code> to the output:<!-- --></p><div class="dumi-default-source-code"><button type="button" class="dumi-default-source-code-copy"><svg viewBox="64 64 896 896"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2 263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"></path></svg></button><pre class="prism-code language-html"><div class=""><div class=""><span class="token tag punctuation">&lt;</span><span class="token tag">link</span><span class="token tag"> </span><span class="token tag attr-name">rel</span><span class="token tag attr-value punctuation attr-equals">=</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag attr-value">shortcut icon</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag"> </span><span class="token tag attr-name">href</span><span class="token tag attr-value punctuation attr-equals">=</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag attr-value">/favicon.png</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag punctuation">&gt;</span></div></div></pre></div><p>If using external resources, etc., you can manually configure the site icon with <!-- --><a href="/en-US/docs/api/config#favicons">favicons</a>. Configuration value takes precedence over convention.<!-- --></p></div></div><script>$RC("B:2","S:2")</script>