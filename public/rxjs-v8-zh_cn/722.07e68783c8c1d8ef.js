"use strict";(self.webpackChunksite=self.webpackChunksite||[]).push([[722],{7722:(k,g,r)=>{r.r(g),r.d(g,{OperatorDecisionTreeModule:()=>J});var p=r(6362),m=r(7317),d=r(1961),f=r(1130),T=r(9026),t=r(3184),D=r(8784);let x=(()=>{class n{constructor(e){this.http=e}getDecisionTree$(){return this.http.get("/generated/docs/app/decision-tree-data.json")}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(D.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();var c=r(1631),C=r(6317),y=r(745),_=r(6562),b=r(3158),$=r(6067),I=r(1203),l=r(116),u=r(635),S=r(73);function v(n){return!n.error}let O=(()=>{class n{constructor(e){this.dataService=e,this.initialState={previousBranchIds:["initial"],currentBranchId:"initial"},this.state$=new C.X(this.initialState),this.tree$=this.dataService.getDecisionTree$().pipe((0,b.K)(o=>(0,y.of)(o)),function Z(n,i,e){let o,a=!1;return n&&"object"==typeof n?({bufferSize:o=1/0,windowTime:i=1/0,refCount:a=!1,scheduler:e}=n):o=null!=n?n:1/0,(0,I.B)({connector:()=>new $.t(o,i,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}()),this.currentSentence$=(0,_.a)(this.tree$,this.state$).pipe((0,l.h)(([o])=>v(o)),(0,u.U)(([o,{previousBranchIds:a}])=>function B(n){return n.includes("initial")&&1===n.length}(a)?"\u4ece\u4e0b\u8868\u4e2d\u9009\u62e9\u4e00\u4e2a\u9009\u9879\uff0c\u4ee5\u5f00\u59cb\u51b3\u7b56":`${a.map(s=>o[s].label).join(" ")}...`.trim())),this.options$=(0,_.a)(this.tree$,this.state$).pipe((0,l.h)(([o,a])=>v(o)&&!!o[a.currentBranchId]&&!!o[a.currentBranchId].options),(0,u.U)(([o,a])=>{const s=o[a.currentBranchId];return function A(n){return!!n.options}(s)?s.options.map(h=>o[h]):o.initial.options.map(h=>o[h])})),this.isBeyondInitialQuestion$=this.state$.pipe((0,u.U)(({currentBranchId:o})=>"initial"!==o)),this.hasError$=this.tree$.pipe((0,l.h)(o=>!!o.error),(0,S.h)(!0))}get snapShot(){return this.state$.getValue()}selectOption(e){this.state$.next({previousBranchIds:[...this.snapShot.previousBranchIds,e],currentBranchId:e})}back(){const e=this.snapShot.previousBranchIds[this.snapShot.previousBranchIds.length-2];e&&this.state$.next({previousBranchIds:[...this.snapShot.previousBranchIds.slice(0,this.snapShot.previousBranchIds.length-1)],currentBranchId:e})}startOver(){this.state$.next(this.initialState)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(x))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();function M(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"section")(2,"button",7),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).back()}),t._uU(3,"\u540e\u9000"),t.qZA(),t.TgZ(4,"button",8),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).startOver()}),t._uU(5,"\u91cd\u65b0\u5f00\u59cb"),t.qZA()(),t.BQk()}}function U(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"button",10),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit;return t.oxw(2).selectOption(a.id)}),t.TgZ(2,"mat-card",11),t._uU(3),t.qZA()(),t.BQk()}if(2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("@flyIn",void 0),t.xp6(2),t.hij(" ",e.label," ")}}function E(n,i){if(1&n&&(t.TgZ(0,"p",13),t._uU(1),t.TgZ(2,"a",14),t._uU(3),t.qZA(),t._uU(4,". "),t.qZA()),2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.AsE(" You want the ",e.method," of the ",e.docType," "),t.xp6(1),t.hYB("href","",e.path,"#",e.method,"",t.LSH),t.xp6(1),t.Oqu(e.label)}}function Q(n,i){if(1&n&&(t.TgZ(0,"p",13),t._uU(1),t.TgZ(2,"a",14),t._uU(3),t.qZA(),t._uU(4,". "),t.qZA()),2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.hij(" You want the ",e.docType," "),t.xp6(1),t.s9C("href",e.path,t.LSH),t.xp6(1),t.Oqu(e.label)}}function Y(n,i){if(1&n&&(t.YNc(0,E,5,5,"p",12),t.YNc(1,Q,5,3,"p",12)),2&n){const e=t.oxw().$implicit;t.Q6J("ngIf",e.method),t.xp6(1),t.Q6J("ngIf",!e.method)}}function F(n,i){if(1&n&&(t.ynx(0),t.YNc(1,U,4,2,"ng-container",2),t.YNc(2,Y,2,2,"ng-template",null,9,t.W1O),t.BQk()),2&n){const e=i.$implicit,o=t.MAs(3);t.xp6(1),t.Q6J("ngIf",e.options)("ngIfElse",o)}}function P(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"h2",4),t._uU(2),t.ALo(3,"async"),t.qZA(),t.YNc(4,M,6,0,"ng-container",5),t.ALo(5,"async"),t.TgZ(6,"div"),t.YNc(7,F,4,2,"ng-container",6),t.ALo(8,"async"),t.qZA(),t.BQk()),2&n){const e=t.oxw();t.xp6(2),t.hij(" ",t.lcZ(3,3,e.currentSentence$)," "),t.xp6(2),t.Q6J("ngIf",t.lcZ(5,5,e.isBeyondInitialQuestion$)),t.xp6(3),t.Q6J("ngForOf",t.lcZ(8,7,e.options$))}}function N(n,i){1&n&&(t.TgZ(0,"div",15)(1,"p"),t._uU(2,"Oops! There was an issue loading the decision tree.. we're real sorry about that. Please try reloading the page."),t.qZA(),t.TgZ(3,"p"),t._uU(4," You can also try "),t.TgZ(5,"a",16),t._uU(6,"submitting an issue on GitHub"),t.qZA(),t._uU(7,". "),t.qZA()())}let j=(()=>{class n{constructor(e,o){this.operatorDecisionTreeService=e,this.scrollService=o,this.currentSentence$=this.operatorDecisionTreeService.currentSentence$,this.options$=this.operatorDecisionTreeService.options$,this.isBeyondInitialQuestion$=this.operatorDecisionTreeService.isBeyondInitialQuestion$,this.hasError$=this.operatorDecisionTreeService.hasError$}selectOption(e){this.operatorDecisionTreeService.selectOption(e),this.scrollService.scrollToTop()}back(){this.operatorDecisionTreeService.back()}startOver(){this.operatorDecisionTreeService.startOver()}ngOnDestroy(){this.startOver()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(O),t.Y36(T.a))},n.\u0275cmp=t.Xpm({type:n,selectors:[["aio-operator-decision-tree"]],decls:8,vars:4,consts:[["tabindex","0","translation-result","on",1,"mat-heading"],["tabindex","0","translation-origin","off",1,"mat-heading"],[4,"ngIf","ngIfElse"],["hasErrorTemplate",""],["tabindex","0",1,"mat-subheading-2"],[4,"ngIf"],[4,"ngFor","ngForOf"],["mat-button","",1,"back",3,"click"],["mat-button","","color","warn",1,"start-over",3,"click"],["operatorTemplate",""],[1,"option","mat-body-1",3,"click"],["matRipple",""],["class","mat-body-1",4,"ngIf"],[1,"mat-body-1"],[3,"href"],[1,"mat-body-1","error"],["href","https://github.com/ReactiveX/rxjs/issues/new?template=documentation.md","target","_blank"]],template:function(e,o){if(1&e&&(t.TgZ(0,"h1",0),t._uU(1,"\u64cd\u4f5c\u7b26\u51b3\u7b56\u6811"),t.qZA(),t.TgZ(2,"h1",1),t._uU(3,"Operator Decision Tree"),t.qZA(),t.YNc(4,P,9,9,"ng-container",2),t.ALo(5,"async"),t.YNc(6,N,8,0,"ng-template",null,3,t.W1O)),2&e){const a=t.MAs(7);t.xp6(4),t.Q6J("ngIf",!t.lcZ(5,2,o.hasError$))("ngIfElse",a)}},directives:[p.O5,m.lW,p.sg,d.a8,f.wG],pipes:[p.Ov],styles:["h2[_ngcontent-%COMP%]{max-width:700px}button.option[_ngcontent-%COMP%]{transition:box-shadow .28s cubic-bezier(.4,0,.2,1);border-radius:34px;border:0;cursor:pointer;display:block;margin-bottom:12px;padding:0;text-align:left}button.option[_ngcontent-%COMP%]:active, button.option[_ngcontent-%COMP%]:hover, button.option[_ngcontent-%COMP%]:focus{box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}button.option[_ngcontent-%COMP%]:active   mat-card[_ngcontent-%COMP%], button.option[_ngcontent-%COMP%]:hover   mat-card[_ngcontent-%COMP%], button.option[_ngcontent-%COMP%]:focus   mat-card[_ngcontent-%COMP%]{background-color:#d81b60;color:#fff}mat-card[_ngcontent-%COMP%]{border-radius:34px;padding:12px 24px;transition:all .25s}section[_ngcontent-%COMP%]{margin-bottom:16px}"],data:{animation:[(0,c.X$)("flyIn",[(0,c.SB)("in",(0,c.oB)({transform:"translateX(0)"})),(0,c.eR)(":enter",[(0,c.oB)({transform:"translateX(-100%)"}),(0,c.jt)(250)])])]}}),n})(),J=(()=>{class n{constructor(){this.customElementComponent=j}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[x,O,T.a],imports:[[p.ez,m.ot,d.QW,f.si]]}),n})()}}]);
//# sourceMappingURL=722.07e68783c8c1d8ef.js.map